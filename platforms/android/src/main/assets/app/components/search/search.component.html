<ActionBar class="action-bar" 
           [backgroundColor]="theme.actionBarColor"
           [color]="theme.actionBarTextColor">
    <Label class="action-bar-title" text="Search"></Label>
    <ActionItem tap="onFilter()"
                icon="res://filter"
                height="50%"
                width="50%"></ActionItem>
    <ActionItem *ngIf="listViewVisible"
                tap="onListMapToggle()"
                icon="res://location"
                android.position="actionBar"></ActionItem>
    <ActionItem *ngIf="!listViewVisible"
                tap="onListMapToggle()"
                icon="res://beenhere"
                android.position="actionBar"></ActionItem>
</ActionBar>

<GridLayout rows="*" borderWidth="0 0 .5 0" borderColor="#8D8B8B">
    <ListView [items]="items" (itemTap)="onVendorTap($event)" separatorColor="transparent">
        <ng-template let-vendor="item" let-i="index">
            <!-- <vendor-listing [vender]="vendor" [index]="index"></vendor-listing> -->
            <FlexboxLayout flexDirection="row" [backgroundColor]="theme.pageBackgroundColor">
                <!-- Vendor Deatails -->
                <FlexboxLayout width="75%" flexDirection="column">
                    <!-- Venue Name -->
                    <Label
                        textWrap="true"
                        [text]="vendor.vendorName"
                        padding="5 10 0 10"
                        fontSize="22"
                        width="100%"
                        fontWeight="500"
                        [backgroundColor]="(debug.backgroundColor) ? '#CCC'  : theme.pageBackgroundColor"
                        [color]="theme.accentColor"></Label>
                    <FlexboxLayout flexDirection="row">
                        <FlexboxLayout flexDirection="column">
                        <!-- Happy Hour Label -->
                        <Label
                            text="Today's Happy Hours:"
                            width="100%"
                            padding="0 0 0 10"
                            fontSize="14"
                            fontWeight="500"
                            [backgroundColor]="(debug.backgroundColor) ? '#0073e6' : theme.pageBackgroundColor"
                            [color]="theme.inactiveColor"></Label>
                        <!-- Happy Hour Hours -->
                        <Label
                            [text]="todaysHappyHours(vendor?.hoursOfOperation)"
                            width="100%"
                            padding="0 0 0 10"
                            fontSize="14"
                            fontWeight="300"                    
                            [backgroundColor]="(debug.backgroundColor) ? '#0073e6' : theme.pageBackgroundColor"
                            [color]="theme.inactiveColor"></Label>
                        </FlexboxLayout>
                        <FlexboxLayout flexDirection="column">
                            <!-- Phone Label -->
                            <Label
                                text="Phone:"
                                width="100%"
                                padding="0 0 0 10"
                                fontSize="14"
                                fontWeight="500"
                                [backgroundColor]="(debug.backgroundColor) ? '#339966' : theme.pageBackgroundColor"
                                [color]="theme.inactiveColor"></Label>
                            <!-- Phone Number -->
                            <Label
                                [text]="vendor.phone"
                                width="100%"
                                padding="0 0 0 10"
                                fontSize="14"
                                fontWeight="300"                    
                                [backgroundColor]="(debug.backgroundColor) ? '#339966' : theme.pageBackgroundColor"
                                [color]="theme.inactiveColor"></Label>
                        </FlexboxLayout>
                    </FlexboxLayout>
                    <!-- Description -->
                    <Label
                        textWrap="true"
                        [text]="vendor.description"
                        width="100%"
                        padding="5 0 10 10"
                        fontSize="14"
                        [backgroundColor]="(debug.backgroundColor) ? '#cc0000' : theme.pageBackgroundColor"
                        [color]="theme.inactiveColor"></Label>
                 </FlexboxLayout>
                <!-- Likes/Dislikes -->
                <FlexboxLayout width="25%" [backgroundColor]="theme.pageBackgroundColor" flexDirection="column" alignItems="center" alignSelf="center" padding="10">
                    <FlexboxLayout flexDirection="row">
                        <!-- Left Column -->
                        <FlexboxLayout flexDirection="column" alignItems="center" padding="0 4 0 0">
                            <!-- Thumbs Up Icon -->
                            <Image src="res://thumb_up"
                                width="30"
                                height="30"
                                horizontalAlignment="center"
                                verticalAlignment="bottom"
                                stretch="aspectFill"
                                [backgroundColor]="(debug.backgroundColor) ? '#800000' : theme.pageBackgroundColor"></Image>
                            <!-- Count -->
                            <Label 
                                text="60"
                                horizontalAlignment="center"
                                verticalAlignment="top"
                                [backgroundColor]="(debug.backgroundColor) ? '#008080' : theme.pageBackgroundColor"                        
                                [color]="theme.inactiveColor"></Label>
                        </FlexboxLayout>
                        <!-- Right Column -->
                        <FlexboxLayout flexDirection="column" alignItems="center" padding="0 0 0 4">
                            <Image src="res://thumb_down"
                                width="30"
                                height="30"
                                stretch="aspectFill"
                                [backgroundColor]="(debug.backgroundColor) ? '#000099' : theme.pageBackgroundColor"></Image>
                            <!-- Count -->
                            <Label 
                                text="16"
                                [backgroundColor]="(debug.backgroundColor) ? '#cc0000' : theme.pageBackgroundColor"                        
                                [color]="theme.inactiveColor"></Label>
                        </FlexboxLayout>
                    </FlexboxLayout>
                    <FlexboxLayout flexDirection="row" alignItems="center">
                        <!-- Minutes Label -->
                        <Label 
                            text="20"
                            horizontalAlignment="center"
                            verticalAlignment="top"
                            [backgroundColor]="(debug.backgroundColor) ? '#ffd11a' : theme.pageBackgroundColor"
                            [color]="theme.accentColor"
                            fontSize="30"></Label>
                            <!-- Minutes Text -->
                        <FlexboxLayout flexDirection="column" alignItems="flex-start">
                            <Label 
                                text="min."
                                padding="0 0 -4 4"
                                textWrap="true"
                                fontSize="12"
                                [backgroundColor]="(debug.backgroundColor) ? '#993399' : theme.pageBackgroundColor"
                                [color]="theme.inactiveColor"></Label>
                            <Label 
                                text="away"
                                padding="0 0 0 4"
                                textWrap="true"
                                fontSize="12"
                                [backgroundColor]="(debug.backgroundColor) ? '#993399' : theme.pageBackgroundColor"
                                [color]="theme.inactiveColor"></Label>
                        </FlexboxLayout>
                    </FlexboxLayout>
                    <!-- Distance -->
                    <Label
                        horizontalAlignment="center"
                        verticalAlignment="top"
                        text="(12.4 miles)"
                        [backgroundColor]="(debug.backgroundColor) ? '#ffccff' : theme.pageBackgroundColor"
                        [color]="theme.darkGrey"
                        fontSize="10"></Label>
                </FlexboxLayout>
            </FlexboxLayout>
        </ng-template>
    </ListView>
</GridLayout>


<ScrollView>
    <WrapLayout>
        <GridLayout *ngFor="let item of items" 
                     width="100%" 
                     height="100%"
                     columns="15, *, *, *, *" 
                     rows="auto, *, *, *, *"
                     borderWidth="0 0 .5 0"
                     borderColor="#8D8B8B"
                    [backgroundColor]="theme.pageBackgroundColor">
                <!-- Venue Details -->
                <!-- Venue Name -->
                <Label
                    row="0"
                    col="0"
                    colSpan="4"
                    textWrap="true"
                    text="{{ item.vendorName }}"
                    horizontalAlignment="left"
                    verticalAlignment="center"
                    width="100%"
                    padding="5 10 0 10"
                    fontSize="22"
                    fontWeight="500"
                    [backgroundColor]="(debug.backgroundColor) ? '#CCC'  : theme.pageBackgroundColor"
                    [color]="theme.accentColor"></Label>
                <!-- Happy Hour Label -->
                <Label
                    row="1"
                    col="0"
                    colSpan="3"
                    text="Today's Happy Hours:"
                    horizontalAlignment="left"
                    verticalAlignment="center"
                    width="100%"
                    padding="0 0 0 10"
                    fontSize="14"
                    fontWeight="500"
                    [backgroundColor]="(debug.backgroundColor) ? '#0073e6' : theme.pageBackgroundColor"
                    [color]="theme.inactiveColor"></Label>
                <!-- Happy Hour Hours -->
                <Label
                    row="2"
                    col="0"
                    colSpan="3"
                    [text]="todaysHappyHours(item?.hoursOfOperation)"
                    horizontalAlignment="left"
                    verticalAlignment="center"
                    width="100%"
                    padding="0 0 0 10"
                    fontSize="14"
                    fontWeight="300"                    
                    [backgroundColor]="(debug.backgroundColor) ? '#0073e6' : theme.pageBackgroundColor"
                    [color]="theme.inactiveColor"></Label>
                <!-- Phone Label -->
                <Label
                    row="1"
                    col="3"
                    text="Phone:"
                    horizontalAlignment="left"
                    verticalAlignment="center"
                    width="100%"
                    padding="0 0 0 10"
                    fontSize="14"
                    fontWeight="500"
                    [backgroundColor]="(debug.backgroundColor) ? '#339966' : theme.pageBackgroundColor"
                    [color]="theme.inactiveColor"></Label>
                <!-- Phone Number -->
                <Label
                    row="2"
                    col="3"
                    text="{{ item.phone }}"
                    horizontalAlignment="left"
                    verticalAlignment="center"
                    width="100%"
                    padding="0 0 0 10"
                    fontSize="14"
                    fontWeight="300"                    
                    [backgroundColor]="(debug.backgroundColor) ? '#339966' : theme.pageBackgroundColor"
                    [color]="theme.inactiveColor"></Label>
                <!-- Description -->
                <Label
                    row="3"
                    col="0"
                    colSpan="4"
                    textWrap="true"
                    text="{{ item.description }}"
                    horizontalAlignment="left"
                    verticalAlignment="center"
                    width="100%"
                    padding="5 0 10 10"
                    fontSize="14"
                    [backgroundColor]="(debug.backgroundColor) ? '#cc0000' : theme.pageBackgroundColor"
                    [color]="theme.inactiveColor"></Label>
            <!-- Likes/Dislikes -->
            <GridLayout row="0"
                        col="5"
                        rowSpan="5"
                        rows="auto, *, *, *, *"
                        columns="50, 50"
                        class="likes-dislikes"
                        padding="5"
                        [backgroundColor]="(debug.backgroundColor) ? '#ccffcc' : theme.pageBackgroundColor"
                        horizontalAlignment="right"
                        verticalAlignment="center">
                <!-- Left Column -->
                <StackLayout 
                    row="0"
                    col="0"
                    rowSpan="2"
                    horizontalAlignment="right"
                    verticalAlignment="center"
                    padding="0 4 0 0"
                    [backgroundColor]="(debug.backgroundColor) ? '#ff1a66' : theme.pageBackgroundColor">
                        <!-- Thumbs Up Icon -->
                        <Image src="res://thumb_up"
                            row="0"
                            col="0"
                            width="30"
                            height="30"
                            horizontalAlignment="center"
                            verticalAlignment="bottom"
                            stretch="aspectFill"
                            [backgroundColor]="(debug.backgroundColor) ? '#800000' : theme.pageBackgroundColor"></Image>
                        <!-- Count -->
                        <Label 
                            row="1"
                            col="0"
                            text="60"
                            horizontalAlignment="center"
                            verticalAlignment="top"
                            [backgroundColor]="(debug.backgroundColor) ? '#008080' : theme.pageBackgroundColor"                        
                            [color]="theme.inactiveColor"></Label>
                </StackLayout>
                <!--  Right Column -->
                <StackLayout 
                    row="0"
                    col="1"
                    rowSpan="2"
                    horizontalAlignment="left"
                    verticalAlignment="center"
                    padding="0 0 0 4"
                    [backgroundColor]="(debug.backgroundColor) ? '#00cc00' : theme.pageBackgroundColor">
                        <!-- Thumbs Down -->
                        <!-- Icon -->
                        <Image src="res://thumb_down"
                            row="0"
                            col="1"
                            width="30"
                            height="30"
                            horizontalAlignment="center"
                            verticalAlignment="bottom"
                            stretch="aspectFill"
                            [backgroundColor]="(debug.backgroundColor) ? '#000099' : theme.pageBackgroundColor"></Image>
                        <!-- Count -->
                        <Label 
                            row="1"
                            col="1"
                            text="16"
                            horizontalAlignment="center"
                            verticalAlignment="top"
                            [backgroundColor]="(debug.backgroundColor) ? '#cc0000' : theme.pageBackgroundColor"                        
                            [color]="theme.inactiveColor"></Label>
                </StackLayout>
                <!-- Minutes Label -->
                <Label 
                    row="2"
                    col="0"
                    rowSpan="2"
                    text="20"
                    padding="0 4 0 -4"
                    horizontalAlignment="right"
                    verticalAlignment="center"
                    [backgroundColor]="(debug.backgroundColor) ? '#ffd11a' : theme.pageBackgroundColor"
                    [color]="theme.accentColor"
                    fontSize="30"></Label>
                <!-- Minutes Text -->
                <Label 
                    row="2"
                    col="1"
                    rowSpan="2"
                    text="min. away"
                    padding="0 0 0 4"
                    textWrap="true"
                    fontSize="12"
                    horizontalAlignment="left"
                    verticalAlignment="center"
                    [backgroundColor]="(debug.backgroundColor) ? '#993399' : theme.pageBackgroundColor"
                    [color]="theme.inactiveColor"></Label>
                <!-- Distance Label -->
                <Label
                    row="4"
                    col="0"
                    colSpan="2"
                    horizontalAlignment="center"
                    verticalAlignment="top"
                    text="(12.4 miles)"
                    [backgroundColor]="(debug.backgroundColor) ? '#ffccff' : theme.pageBackgroundColor"
                    [color]="theme.darkGrey"
                    fontSize="10"></Label>
            </GridLayout>           
        </GridLayout>
    </WrapLayout>
</ScrollView>