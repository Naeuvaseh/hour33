"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var element_registry_1 = require("nativescript-angular/element-registry");
var settings_1 = require("../../../../../settings");
var nativescript_google_maps_sdk_1 = require("nativescript-google-maps-sdk");
element_registry_1.registerElement('MapView', function () { return nativescript_google_maps_sdk_1.MapView; });
var VendorMapComponent = (function () {
    function VendorMapComponent() {
        this.zoom = 16;
        this.minZoom = 0;
        this.maxZoom = 22;
        this.bearing = 0;
        this.tilt = 0;
        this.theme = settings_1.Theme;
    }
    VendorMapComponent.prototype.ngOnInit = function () {
        console.log('VendorMapComonent.ngOnInit() Vendor Location: ' + JSON.stringify(this.vendor.result.geometry));
    };
    VendorMapComponent.prototype.onMapReady = function (event) {
        console.log("Map Ready");
        this.mapView = event.object;
        this.mapView.settings.tiltGesturesEnabled = true;
        this.mapView.settings.myLocationButtonEnabled = true;
        this.mapView.settings.compassEnabled = true;
        this.bounds = nativescript_google_maps_sdk_1.Bounds.fromCoordinates(nativescript_google_maps_sdk_1.Position.positionFromLatLng(this.vendor.result.geometry.viewport.southwest.lat, this.vendor.result.geometry.viewport.southwest.lng), nativescript_google_maps_sdk_1.Position.positionFromLatLng(this.vendor.result.geometry.viewport.northeast.lat, this.vendor.result.geometry.viewport.northeast.lng));
        this.mapView.setViewport(this.bounds);
        this.mapView.latitude = this.vendor.result.geometry.location.lat;
        this.mapView.longitude = this.vendor.result.geometry.location.lng;
        this.mapView.zoom = this.zoom;
        console.log('MapView Location: Lat: ' + this.mapView.latitude + ' Lng: ' + this.mapView.longitude);
        var marker = new nativescript_google_maps_sdk_1.Marker();
        marker.position = nativescript_google_maps_sdk_1.Position.positionFromLatLng(this.vendor.result.geometry.location.lat, this.vendor.result.geometry.location.lng);
        marker.title = "Title Test";
        marker.snippet = "Snippet Test";
        //marker.userData = {index: 1};
        this.mapView.addMarker(marker);
    };
    ;
    VendorMapComponent.prototype.onMarkerEvent = function (args) {
        console.log("Marker Event: '" + args.eventName
            + "' triggered on: " + args.marker.title
            + ", Lat: " + args.marker.position.latitude + ", Lon: " + args.marker.position.longitude, args);
    };
    VendorMapComponent.prototype.onCoordinateTapped = function (args) {
        console.log("Coordinate Tapped, Lat: " + args.position.latitude + ", Lon: " + args.position.longitude, args);
    };
    VendorMapComponent.prototype.onCameraChanged = function (args) {
        console.log("Camera changed: " + JSON.stringify(args.camera), JSON.stringify(args.camera) === this.lastCamera);
        this.lastCamera = JSON.stringify(args.camera);
    };
    __decorate([
        core_1.Input(),
        __metadata("design:type", Object)
    ], VendorMapComponent.prototype, "vendor", void 0);
    VendorMapComponent = __decorate([
        core_1.Component({
            selector: 'vendor-map',
            templateUrl: './components/search/vendor-detail/vendor-tab-map/vendor-map/vendor-map.component.html'
        }),
        __metadata("design:paramtypes", [])
    ], VendorMapComponent);
    return VendorMapComponent;
}());
exports.VendorMapComponent = VendorMapComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLW1hcC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJ2ZW5kb3ItbWFwLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHNDQUFnRjtBQUNoRiwwRUFBd0U7QUFFeEUsb0RBQWdEO0FBQ2hELDZFQUFpRjtBQUVqRixrQ0FBZSxDQUFDLFNBQVMsRUFBRSxjQUFNLE9BQUEsc0NBQU8sRUFBUCxDQUFPLENBQUMsQ0FBQztBQU0xQztJQWdCRTtRQVRPLFNBQUksR0FBVyxFQUFFLENBQUM7UUFDbEIsWUFBTyxHQUFXLENBQUMsQ0FBQztRQUNwQixZQUFPLEdBQVcsRUFBRSxDQUFDO1FBQ3JCLFlBQU8sR0FBVyxDQUFDLENBQUM7UUFDcEIsU0FBSSxHQUFXLENBQUMsQ0FBQztRQU10QixJQUFJLENBQUMsS0FBSyxHQUFHLGdCQUFLLENBQUM7SUFDckIsQ0FBQztJQUVELHFDQUFRLEdBQVI7UUFDRSxPQUFPLENBQUMsR0FBRyxDQUFDLGdEQUFnRCxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUM5RyxDQUFDO0lBRUQsdUNBQVUsR0FBVixVQUFZLEtBQUs7UUFDZixPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxPQUFPLEdBQWEsS0FBSyxDQUFDLE1BQU0sQ0FBQztRQUN0QyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUM7UUFDakQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsdUJBQXVCLEdBQUcsSUFBSSxDQUFDO1FBQ3JELElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7UUFDNUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxxQ0FBTSxDQUFDLGVBQWUsQ0FDbEMsdUNBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQ25JLHVDQUFRLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUNwSSxDQUFDO1FBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ3JDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFOUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBeUIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsR0FBRyxRQUFRLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNuRyxJQUFJLE1BQU0sR0FBRyxJQUFJLHFDQUFNLEVBQUUsQ0FBQztRQUMxQixNQUFNLENBQUMsUUFBUSxHQUFHLHVDQUFRLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsSSxNQUFNLENBQUMsS0FBSyxHQUFHLFlBQVksQ0FBQTtRQUMzQixNQUFNLENBQUMsT0FBTyxHQUFHLGNBQWMsQ0FBQztRQUNsQywrQkFBK0I7UUFDN0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUFBLENBQUM7SUFFRiwwQ0FBYSxHQUFiLFVBQWMsSUFBSTtRQUNoQixPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxTQUFTO2NBQ3hDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSztjQUN0QyxTQUFTLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxHQUFHLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDdEcsQ0FBQztJQUVELCtDQUFrQixHQUFsQixVQUFtQixJQUFJO1FBQ3JCLE9BQU8sQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEdBQUcsU0FBUyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQy9HLENBQUM7SUFFRCw0Q0FBZSxHQUFmLFVBQWdCLElBQUk7UUFDbEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDL0csSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBNURRO1FBQVIsWUFBSyxFQUFFOztzREFBc0I7SUFEbkIsa0JBQWtCO1FBSjlCLGdCQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsWUFBWTtZQUN0QixXQUFXLEVBQUUsdUZBQXVGO1NBQ3JHLENBQUM7O09BQ1csa0JBQWtCLENBZ0k5QjtJQUFELHlCQUFDO0NBQUEsQUFoSUQsSUFnSUM7QUFoSVksZ0RBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBWaWV3Q2hpbGQsIE9uSW5pdCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgcmVnaXN0ZXJFbGVtZW50IH0gZnJvbSBcIm5hdGl2ZXNjcmlwdC1hbmd1bGFyL2VsZW1lbnQtcmVnaXN0cnlcIjtcclxuaW1wb3J0IHsgVmVuZG9yRGV0YWlsIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vaW50ZXJmYWNlcy9zZWFyY2gtcmVzdWx0L3ZlbmRvci1kZXRhaWwvdmVuZG9yLWRldGFpbC5pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBUaGVtZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NldHRpbmdzJztcclxuaW1wb3J0IHsgTWFwVmlldywgTWFya2VyLCBQb3NpdGlvbiwgQm91bmRzIH0gZnJvbSAnbmF0aXZlc2NyaXB0LWdvb2dsZS1tYXBzLXNkayc7XHJcblxyXG5yZWdpc3RlckVsZW1lbnQoJ01hcFZpZXcnLCAoKSA9PiBNYXBWaWV3KTtcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAndmVuZG9yLW1hcCcsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL2NvbXBvbmVudHMvc2VhcmNoL3ZlbmRvci1kZXRhaWwvdmVuZG9yLXRhYi1tYXAvdmVuZG9yLW1hcC92ZW5kb3ItbWFwLmNvbXBvbmVudC5odG1sJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgVmVuZG9yTWFwQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcclxuICBASW5wdXQoKSB2ZW5kb3I6IFZlbmRvckRldGFpbDtcclxuICBcclxuICBwdWJsaWMgbWFwVmlldzogTWFwVmlldztcclxuICBwdWJsaWMgdGhlbWU7XHJcbiAgcHVibGljIGxhdGl0dWRlOiBudW1iZXI7XHJcbiAgcHVibGljIGxvbmdpdHVkZTogbnVtYmVyO1xyXG4gIHB1YmxpYyB6b29tOiBudW1iZXIgPSAxNjtcclxuICBwdWJsaWMgbWluWm9vbTogbnVtYmVyID0gMDtcclxuICBwdWJsaWMgbWF4Wm9vbTogbnVtYmVyID0gMjI7XHJcbiAgcHVibGljIGJlYXJpbmc6IG51bWJlciA9IDA7XHJcbiAgcHVibGljIHRpbHQ6IG51bWJlciA9IDA7XHJcbiAgcHVibGljIGxhc3RDYW1lcmE6IHN0cmluZztcclxuICBcclxuICBwcml2YXRlIGJvdW5kczogQm91bmRzO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMudGhlbWUgPSBUaGVtZTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCl7XHJcbiAgICBjb25zb2xlLmxvZygnVmVuZG9yTWFwQ29tb25lbnQubmdPbkluaXQoKSBWZW5kb3IgTG9jYXRpb246ICcgKyBKU09OLnN0cmluZ2lmeSh0aGlzLnZlbmRvci5yZXN1bHQuZ2VvbWV0cnkpKTtcclxuICB9XHJcblxyXG4gIG9uTWFwUmVhZHkgKGV2ZW50KSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIk1hcCBSZWFkeVwiKTtcclxuICAgIHRoaXMubWFwVmlldyA9IDxNYXBWaWV3PiBldmVudC5vYmplY3Q7XHJcbiAgICB0aGlzLm1hcFZpZXcuc2V0dGluZ3MudGlsdEdlc3R1cmVzRW5hYmxlZCA9IHRydWU7XHJcbiAgICB0aGlzLm1hcFZpZXcuc2V0dGluZ3MubXlMb2NhdGlvbkJ1dHRvbkVuYWJsZWQgPSB0cnVlO1xyXG4gICAgdGhpcy5tYXBWaWV3LnNldHRpbmdzLmNvbXBhc3NFbmFibGVkID0gdHJ1ZTtcclxuICAgIHRoaXMuYm91bmRzID0gQm91bmRzLmZyb21Db29yZGluYXRlcyhcclxuICAgICAgUG9zaXRpb24ucG9zaXRpb25Gcm9tTGF0TG5nKHRoaXMudmVuZG9yLnJlc3VsdC5nZW9tZXRyeS52aWV3cG9ydC5zb3V0aHdlc3QubGF0LCB0aGlzLnZlbmRvci5yZXN1bHQuZ2VvbWV0cnkudmlld3BvcnQuc291dGh3ZXN0LmxuZyksXHJcbiAgICAgIFBvc2l0aW9uLnBvc2l0aW9uRnJvbUxhdExuZyh0aGlzLnZlbmRvci5yZXN1bHQuZ2VvbWV0cnkudmlld3BvcnQubm9ydGhlYXN0LmxhdCwgdGhpcy52ZW5kb3IucmVzdWx0Lmdlb21ldHJ5LnZpZXdwb3J0Lm5vcnRoZWFzdC5sbmcpXHJcbiAgICApO1xyXG4gICAgdGhpcy5tYXBWaWV3LnNldFZpZXdwb3J0KHRoaXMuYm91bmRzKVxyXG4gICAgdGhpcy5tYXBWaWV3LmxhdGl0dWRlID0gdGhpcy52ZW5kb3IucmVzdWx0Lmdlb21ldHJ5LmxvY2F0aW9uLmxhdDtcclxuICAgIHRoaXMubWFwVmlldy5sb25naXR1ZGUgPSB0aGlzLnZlbmRvci5yZXN1bHQuZ2VvbWV0cnkubG9jYXRpb24ubG5nO1xyXG4gICAgdGhpcy5tYXBWaWV3Lnpvb20gPSB0aGlzLnpvb207XHJcblxyXG4gICAgY29uc29sZS5sb2coJ01hcFZpZXcgTG9jYXRpb246IExhdDogJyArIHRoaXMubWFwVmlldy5sYXRpdHVkZSArICcgTG5nOiAnICsgdGhpcy5tYXBWaWV3LmxvbmdpdHVkZSk7XHJcbiAgICBsZXQgbWFya2VyID0gbmV3IE1hcmtlcigpO1xyXG4gICAgbWFya2VyLnBvc2l0aW9uID0gUG9zaXRpb24ucG9zaXRpb25Gcm9tTGF0TG5nKHRoaXMudmVuZG9yLnJlc3VsdC5nZW9tZXRyeS5sb2NhdGlvbi5sYXQsIHRoaXMudmVuZG9yLnJlc3VsdC5nZW9tZXRyeS5sb2NhdGlvbi5sbmcpO1xyXG4gICAgbWFya2VyLnRpdGxlID0gXCJUaXRsZSBUZXN0XCJcclxuICAgIG1hcmtlci5zbmlwcGV0ID0gXCJTbmlwcGV0IFRlc3RcIjtcclxuICAvL21hcmtlci51c2VyRGF0YSA9IHtpbmRleDogMX07XHJcbiAgICB0aGlzLm1hcFZpZXcuYWRkTWFya2VyKG1hcmtlcik7XHJcbiAgfTtcclxuXHJcbiAgb25NYXJrZXJFdmVudChhcmdzKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIk1hcmtlciBFdmVudDogJ1wiICsgYXJncy5ldmVudE5hbWVcclxuICAgICAgICArIFwiJyB0cmlnZ2VyZWQgb246IFwiICsgYXJncy5tYXJrZXIudGl0bGVcclxuICAgICAgICArIFwiLCBMYXQ6IFwiICsgYXJncy5tYXJrZXIucG9zaXRpb24ubGF0aXR1ZGUgKyBcIiwgTG9uOiBcIiArIGFyZ3MubWFya2VyLnBvc2l0aW9uLmxvbmdpdHVkZSwgYXJncyk7XHJcbiAgfVxyXG5cclxuICBvbkNvb3JkaW5hdGVUYXBwZWQoYXJncykge1xyXG4gICAgY29uc29sZS5sb2coXCJDb29yZGluYXRlIFRhcHBlZCwgTGF0OiBcIiArIGFyZ3MucG9zaXRpb24ubGF0aXR1ZGUgKyBcIiwgTG9uOiBcIiArIGFyZ3MucG9zaXRpb24ubG9uZ2l0dWRlLCBhcmdzKTtcclxuICB9XHJcblxyXG4gIG9uQ2FtZXJhQ2hhbmdlZChhcmdzKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkNhbWVyYSBjaGFuZ2VkOiBcIiArIEpTT04uc3RyaW5naWZ5KGFyZ3MuY2FtZXJhKSwgSlNPTi5zdHJpbmdpZnkoYXJncy5jYW1lcmEpID09PSB0aGlzLmxhc3RDYW1lcmEpO1xyXG4gICAgdGhpcy5sYXN0Q2FtZXJhID0gSlNPTi5zdHJpbmdpZnkoYXJncy5jYW1lcmEpO1xyXG4gIH1cclxuXHJcbi8vICoqKioqKiBNYXBzIERlbW8gQ29kZSAqKioqKiogLy9cclxuXHJcbi8vICAgcHVibGljIG9uTWFwUmVhZHkgPSAoZXZlbnQpID0+IHtcclxuLy8gICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4vLyAgICAgICAgIC8vYWxlcnQodGhpcy5oZWF0TWFwKTtcclxuLy8gICAgIH0sIDEwMDAwKTtcclxuLy8gICAgIHZhciBtb2RlbCA9IG5ldyBNYXBDb21wb25lbnQodGhpcy5wYWdlLCB0aGlzLmh0dHBTZXJ2aWNlKTtcclxuLy8gICAgIGxldCBtYXBWaWV3ID0gZXZlbnQub2JqZWN0O1xyXG4vLyAgICAgdGhpcy5tYXBWaWV3ID0gbWFwVmlldztcclxuLy8gICAgIC8vbGV0IHBvbHkgPSBuZXcgUG9seWdvbigpO1xyXG4vLyAgICAgLy92YXIgcG9vb29seSA9IFtcclxuLy8gICAgIC8vICAgIFBvc2l0aW9uLnBvc2l0aW9uRnJvbUxhdExuZyg0MC4xNjA4MDczMDE0NjQ4ODUsIC04My4wMDg3OTUzODA1OTIyOSksXHJcbi8vICAgICAvLyAgICBQb3NpdGlvbi5wb3NpdGlvbkZyb21MYXRMbmcoNDAuMTYwNTAxODczOTY3ODQ2LCAtODMuMDA4NzcxMjQwNzExMTYpLFxyXG4vLyAgICAgLy8gICAgUG9zaXRpb24ucG9zaXRpb25Gcm9tTGF0TG5nKDQwLjE2MDQ4OTU3NDg0NTIsIC04My4wMDg2NDUxNzY4ODc0NiksXHJcbi8vICAgICAvLyAgICBQb3NpdGlvbi5wb3NpdGlvbkZyb21MYXRMbmcoNDAuMTYwODEyNDI2MDc1NjEsIC04My4wMDg2NjY2MzQ1NTk2MyksXHJcbi8vICAgICAvLyAgICBQb3NpdGlvbi5wb3NpdGlvbkZyb21MYXRMbmcoNDAuMTYwODA3MzAxNDY0ODg1LCAtODMuMDA4Nzk1MzgwNTkyMjkpXHJcbiAgICAgICAgXHJcbi8vICAgICAvL107XHJcbi8vICAgICAvL3BvbHkuYWRkUG9pbnRzKHBvb29vbHkpO1xyXG4vLyAgICAgLy9wb2x5LmZpbGxDb2xvciA9IG5ldyBDb2xvcihcIiNGRjk4MDBcIik7XHJcbi8vICAgICAvL3BvbHkuc3Ryb2tlQ29sb3IgPSBuZXcgQ29sb3IoXCIjMDA3REMzXCIpO1xyXG4vLyAgICAgLy9wb2x5LnN0cm9rZVdpZHRoID0gMjtcclxuLy8gICAgIC8vcG9seS52aXNpYmxlID0gdHJ1ZTtcclxuLy8gICAgIC8vbWFwVmlldy5hZGRQb2x5Z29uKHBvbHkpO1xyXG4vLyAgICAgY29uc29sZS5sb2coQWNjdXJhY3kuaGlnaClcclxuLy8gICAgIC8vY29uc29sZS5sb2coJ3Rlc3QnKTtcclxuLy8gICAgIHZhciBtYXJrZXIgPSBuZXcgbWFwc01vZHVsZS5NYXJrZXIoKTtcclxuLy8gICAgIC8vY29uc29sZS5sb2cobWFwVmlldyk7XHJcbi8vICAgICBtYXJrZXIudGl0bGUgPSBcIm1hcmtlcjFcIjtcclxuLy8gICAgIG1hcmtlci5wb3NpdGlvbiA9IG1hcHNNb2R1bGUuUG9zaXRpb24ucG9zaXRpb25Gcm9tTGF0TG5nKHRoaXMucG9pbnQxLmxhdGl0dWRlLCB0aGlzLnBvaW50MS5sb25naXR1ZGUpO1xyXG4vLyAgICAgbWFya2VyLnVzZXJEYXRhID0geyBpbmRleDogMSB9O1xyXG4vLyAgICAgbWFwVmlldy5hZGRNYXJrZXIobWFya2VyKTtcclxuXHJcbi8vICAgICAvL3RoaXMuYWRkSGVhdCgpO1xyXG4vLyAgICAgdmFyIGxvY2F0aW9uID0gZ2VvbG9jYXRpb24uZ2V0Q3VycmVudExvY2F0aW9uKHsgZGVzaXJlZEFjY3VyYWN5OiBBY2N1cmFjeS5oaWdoLCB1cGRhdGVEaXN0YW5jZTogMC4xLCBtYXhpbXVtQWdlOiA1MDAwLCB0aW1lb3V0OiAyMDAwMCB9KS5cclxuLy8gICAgICAgICB0aGVuKChsb2MpID0+IHtcclxuLy8gICAgICAgICAgICAgaWYgKGxvYykge1xyXG4vLyAgICAgICAgICAgICAgICAgbW9kZWwubG9jYXRpb25zLnB1c2gobG9jKTtcclxuLy8gICAgICAgICAgICAgICAgIC8vYWxlcnQoSlNPTi5zdHJpbmdpZnkobG9jKSk7XHJcbi8vICAgICAgICAgICAgICAgICAvLyBXcml0aW5nIHRleHQgdG8gdGhlIGZpbGUuXHJcbi8vICAgICAgICAgICAgICAgICBsZXQgdGVtcE1hcmtlciA9IHsgbGF0aXR1ZGU6IGxvYy5sYXRpdHVkZSwgbG9uZ2l0dWRlOiBsb2MubG9uZ2l0dWRlLCB0aXRsZTogJ21lJyB9O1xyXG4gICAgICAgICAgICAgICAgXHJcbi8vICAgICAgICAgICAgICAgICAvL2FsZXJ0KEpTT04uc3RyaW5naWZ5KHRlbXBNYXJrZXIpKVxyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5tYXJrZXJzLnB1c2godGVtcE1hcmtlcik7XHJcbi8vICAgICAgICAgICAgICAgICAvL2FsZXJ0KEpTT04uc3RyaW5naWZ5KHRoaXMubWFya2VycykpXHJcbi8vICAgICAgICAgICAgICAgIHZhciBtYXJrZXIyID0gbmV3IG1hcHNNb2R1bGUuTWFya2VyKCk7XHJcbi8vICAgICAgICAgICAgICAgICBtYXJrZXIyLnRpdGxlID0gXCJtZVwiO1xyXG4vLyAgICAgICAgICAgICAgICAgbWFya2VyMi5wb3NpdGlvbiA9IG1hcHNNb2R1bGUuUG9zaXRpb24ucG9zaXRpb25Gcm9tTGF0TG5nKGxvYy5sYXRpdHVkZSwgbG9jLmxvbmdpdHVkZSk7XHJcbi8vICAgICAgICAgICAgICAgICBtYXJrZXIyLnVzZXJEYXRhID0geyBpbmRleDogMSB9O1xyXG4vLyAgICAgICAgICAgICAgICAgbWFwVmlldy5hZGRNYXJrZXIobWFya2VyMik7XHJcbiAgICAgICAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgICAgIHRoaXMubWFya2Vycy5wdXNoKG1hcmtlcilcclxuLy8gICAgICAgICAgICAgICAgIC8vYWxlcnQodGhpcy5tYXJrZXJzKVxyXG4vLyAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmRpcih0aGlzLm1hcmtlcnMpXHJcbi8vICAgICAgICAgICAgICAgICAvL2NvbnNvbGUuZGlyKE9iamVjdC5rZXlzKG1hcFZpZXcpKVxyXG4vLyAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmRpcihtYXBWaWV3Ll9tYXJrZXJzKVxyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy5sb2FkZXIuaGlkZSgpO1xyXG4vLyAgICAgICAgICAgICAgICAgdGhpcy53YXRjaExvY2F0aW9uKG1vZGVsLCBtYXBWaWV3KTtcclxuLy8gICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XHJcbi8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IhISEhISEhMTogXCIgKyBlLm1lc3NhZ2UpO1xyXG4vLyAgICAgICAgICAgICB0aGlzLm9uTWFwUmVhZHkoZXZlbnQpO1xyXG4vLyAgICAgICAgIH0pO1xyXG4vLyAgICAgdGhpcy5yZWFkeSA9IHRydWU7XHJcbi8vIH07XHJcbn0iXX0=