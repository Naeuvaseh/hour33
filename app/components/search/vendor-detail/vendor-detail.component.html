<ActionBar class="action-bar">
    <NavigationButton icon="res://back_arrow" (tap)="goBack()"></NavigationButton>
    <Label class="action-bar-title" [text]="vendor.name" [color]="theme.accentColor"></Label>
    <ActionItem icon="res://share" (tap)="onShare()"></ActionItem>
</ActionBar>
<TabView [tabBackgroundColor]="theme.actionBarColor" 
         [selectedTabTextColor]="theme.accentColor"
         [tabTextColor]="theme.inactiveColor" 
         [androidSelectedTabHighlightColor]="theme.accentColor"
         [backgroundColor]="theme.pageBackgroundColor">
    <ScrollView *tabItem="{title: 'Details'}" orientation="vertical" height="100%">
        <FlexboxLayout flexDirection="column">
            <vendor-score [vendor]="vendor" [index]="index"></vendor-score>
            <vendor-description [vendor]="vendor" [index]="index"></vendor-description>
            <vendor-happy-hours [hours]="vendor.hoursOfOperation" [index]="index"></vendor-happy-hours>
            <vendor-regular-hours [hours]="vendor.hoursOfOperation" [index]="index"></vendor-regular-hours>
        </FlexboxLayout>
    </ScrollView>
    <StackLayout *tabItem="{title: 'Map'}">
        <StackLayout height="80%"
                     width="100%"
                     padding="10">
            <MapView 
                (markerSelect)="onMarkerSelect($event)" 
                [latitude]="lat" 
                [longitude]="long" 
                zoom="18" 
                (mapReady)="onMapReady($event)"></MapView>
        </StackLayout>
        <StackLayout>
            <FlexboxLayout class="card" alignItems="center">
                <FlexboxLayout flexDirection="column" width="75%">
                    <Label text="Address:"
                           [color]="theme.accentColor"
                           class="h3"
                           padding="10 0 0 10">
                    </Label>
                    <Label [text]="formatAddress(vendor)"
                           [color]="theme.inactiveColor"
                            textWrap="true"
                            padding="0 0 10 20">
                    </Label>
                </FlexboxLayout>
                <FlexboxLayout width="25%">
                    <Image src="res://navigate"
                        width="70"
                        height="70"
                        horizontalAlignment="center"
                        verticalAlignment="center"
                        stretch="aspectFill"></Image>
                </FlexboxLayout>
            </FlexboxLayout>
        </StackLayout>
    </StackLayout>
    <StackLayout *tabItem="{title: 'Menu'}">

    </StackLayout>
    <StackLayout *tabItem="{title: 'Reviews'}">

    </StackLayout>
</TabView>